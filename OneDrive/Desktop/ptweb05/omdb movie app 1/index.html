<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>OMDB1</title>
      <style>
        #errorimg{
        
          background-image: url("https://c.tenor.com/51xvC35-fDEAAAAM/manhunt.gif");
          width:100%;
          height:600px;
        }
        #Rating{
       
       position: absolute;
       top: 8px;
       right: 16px;
       background-color:red;
       width:20px;
       color:white;


        }
      
        #cont{
          border:1px solid black;
          position: relative;
          width: 30%;
        }
       #recomm{
        border: 1px solid black;
        position: absolute;
       top: 8px;
       right:0px;
       background-color:orange;
       left:15px;
        width:98px;
       }
       #Poster{
        width: 100%;
       }
      </style>
    </head>

    <body>
       <h1>OMDB MOVIE SEARCH ENGINE</h1>
       <input type="text" placeholder="Search" id="search">
       <button onclick="getdata()">search</button>
       <div id="container">
       

       </div>




    
    </body>

</html>
<script >
  let container=document.getElementById("container");
  let API_KEY="440f450b"
  async function getdata(){
   try{
    let searchval=document.getElementById("search").value;
    let url=`http://www.omdbapi.com/?apikey=${API_KEY}&t=${searchval}`;
    let res= await fetch(url)
    let data=await res.json()
    console.log(data)
    if(data.Error){
      container.innerHTML=""
      let errrMessage=document.createElement("p");
      errrMessage.textContent="Nothing found"
      errrMessage.setAttribute("id","errorimg")
      
      container.append(errrMessage)
    }else{
      diplaydata(data)
    }
    

   }catch(err){
    console.log(err)
   }
   function diplaydata(movie){
    container.innerHTML="";
    var MovieContainer=document.createElement("div");
    MovieContainer.setAttribute("id","cont")
    var poster=document.createElement("img");
    poster.setAttribute("id","Poster")
    poster.src=movie.Poster;
    var title=document.createElement("p");
    title.textContent=`title : ${movie.Title}`
    var released=document.createElement("p")
     released.textContent=`Released date : ${movie.Released}`
     var yr=document.createElement("p")
     yr.textContent=`Year : ${movie.Year}`
     var rating=document.createElement("p")
     var MovieContainer1=document.createElement("div");
     MovieContainer1.textContent="Recommended"
     MovieContainer1.setAttribute("id","recomm")
     if(movie.imdbRating>8.5){
      rating.textContent=`Rating : ${movie.imdbRating}`
      MovieContainer.append(poster,title,released,yr,rating,MovieContainer1)
     container.append(MovieContainer)
      
     }else{
      rating.textContent=`Rating : ${movie.imdbRating}`
      MovieContainer.append(poster,title,released,yr,rating)
     container.append(MovieContainer)
     }
     
     


   }
    
  }
</script>